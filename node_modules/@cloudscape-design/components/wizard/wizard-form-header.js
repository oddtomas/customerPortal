// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import clsx from 'clsx';
import React, { useContext, useLayoutEffect } from 'react';
import { AppLayoutContext } from '../app-layout/visual-refresh/context.js';
import { useContainerQuery } from '../internal/hooks/container-queries';
import styles from './styles.css.js';
export default function WizardFormHeader(_a) {
    var children = _a.children, isVisualRefresh = _a.isVisualRefresh;
    /**
     * Observe the dynamic height of the Wizard header in visual refresh and
     * update the AppLayout dynamicOverlapHeight property.
     */
    var setDynamicOverlapHeight = useContext(AppLayoutContext).setDynamicOverlapHeight;
    var _b = useContainerQuery(function (rect) { return rect.height; }), overlapContainerQuery = _b[0], overlapElement = _b[1];
    useLayoutEffect(function handleDynamicOverlapHeight() {
        if (isVisualRefresh) {
            setDynamicOverlapHeight(overlapContainerQuery !== null && overlapContainerQuery !== void 0 ? overlapContainerQuery : 0);
        }
    }, [isVisualRefresh, overlapContainerQuery, setDynamicOverlapHeight]);
    return (React.createElement("div", { className: clsx(styles['form-header'], isVisualRefresh && styles['form-header-refresh'], isVisualRefresh && 'awsui-context-content-header'), ref: overlapElement },
        React.createElement("div", { className: clsx(styles['form-header-content']) }, children)));
}
//# sourceMappingURL=wizard-form-header.js.map