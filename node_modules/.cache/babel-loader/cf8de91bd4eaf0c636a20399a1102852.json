{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable'; // Provides controlled or uncontrolled props to filter chart series.\n\nexport default function useFilterProps(series, controlledVisibleSeries, controlledOnVisibleChange) {\n  var _a = useControllable(controlledVisibleSeries, controlledOnVisibleChange, series, {\n    componentName: 'AreaChart',\n    controlledProp: 'visibleSeries',\n    changeHandler: 'onFilterChange'\n  }),\n      _b = _a[0],\n      visibleSeries = _b === void 0 ? [] : _b,\n      setVisibleSeriesState = _a[1];\n\n  var setVisibleSeries = useCallback(function (selectedSeries) {\n    setVisibleSeriesState(selectedSeries);\n    fireNonCancelableEvent(controlledOnVisibleChange, {\n      visibleSeries: selectedSeries\n    });\n  }, [controlledOnVisibleChange, setVisibleSeriesState]); // Reset filter if series change.\n\n  useEffect(function () {\n    var newVisibleSeries = visibleSeries.filter(function (s) {\n      return series.indexOf(s) !== -1;\n    });\n\n    if (newVisibleSeries.length !== visibleSeries.length) {\n      setVisibleSeries(newVisibleSeries);\n    }\n  }, [series, visibleSeries, setVisibleSeries]);\n  return [visibleSeries, setVisibleSeries];\n}","map":null,"metadata":{},"sourceType":"module"}