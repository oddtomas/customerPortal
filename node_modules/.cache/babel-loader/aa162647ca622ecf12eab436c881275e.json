{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nexport var useLoadItems = function useLoadItems(_a) {\n  var onLoadItems = _a.onLoadItems,\n      options = _a.options,\n      statusType = _a.statusType;\n  var prevFilteringText = useRef(undefined);\n\n  var fireLoadItems = function fireLoadItems(filteringText) {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, {\n      filteringText: filteringText,\n      firstPage: true,\n      samePage: false\n    });\n  };\n\n  var handleLoadMore = function handleLoadMore() {\n    var firstPage = options.length === 0;\n    statusType === 'pending' && fireNonCancelableEvent(onLoadItems, {\n      firstPage: firstPage,\n      samePage: false,\n      filteringText: prevFilteringText.current || ''\n    });\n  };\n\n  var handleRecoveryClick = function handleRecoveryClick() {\n    return fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || ''\n    });\n  };\n\n  return {\n    fireLoadItems: fireLoadItems,\n    handleLoadMore: handleLoadMore,\n    handleRecoveryClick: handleRecoveryClick\n  };\n};","map":null,"metadata":{},"sourceType":"module"}