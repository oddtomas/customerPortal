{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport AsyncStore from './async-store';\nvar initialState = Object.freeze({\n  highlightedX: null,\n  highlightedPoint: null,\n  highlightedSeries: null,\n  legendSeries: null,\n  isPopoverPinned: false\n});\n\nvar InteractionsStore =\n/** @class */\nfunction (_super) {\n  __extends(InteractionsStore, _super);\n\n  function InteractionsStore(series, plot) {\n    var _this = _super.call(this, initialState) || this;\n\n    _this.series = series;\n    _this.plot = plot;\n    return _this;\n  }\n\n  InteractionsStore.prototype.highlightPoint = function (point) {\n    var _this = this;\n\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        highlightedX: _this.plot.xy[point.index.x],\n        highlightedPoint: point,\n        highlightedSeries: _this.series[point.index.s],\n        legendSeries: _this.series[point.index.s]\n      });\n    });\n  };\n\n  InteractionsStore.prototype.highlightX = function (points) {\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        highlightedX: points,\n        highlightedPoint: null,\n        highlightedSeries: null\n      });\n    });\n  };\n\n  InteractionsStore.prototype.highlightFirstPoint = function () {\n    var _this = this;\n\n    this.set(function (state) {\n      var series = state.legendSeries || state.highlightedSeries;\n\n      var firstSeriesPoint = series && _this._getFirstSeriesPoint(series);\n\n      var point = state.highlightedPoint || firstSeriesPoint || _this.plot.sx[0][0];\n      return __assign(__assign({}, state), {\n        highlightedX: _this.plot.xy[point.index.x],\n        highlightedPoint: point,\n        highlightedSeries: _this.series[point.index.s],\n        legendSeries: _this.series[point.index.s]\n      });\n    });\n  };\n\n  InteractionsStore.prototype.highlightSeries = function (s) {\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        highlightedSeries: s,\n        legendSeries: s\n      });\n    });\n  };\n\n  InteractionsStore.prototype.clearHighlight = function () {\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        highlightedX: null,\n        highlightedPoint: null,\n        highlightedSeries: null\n      });\n    });\n  };\n\n  InteractionsStore.prototype.clearHighlightedLegend = function () {\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        legendSeries: null\n      });\n    });\n  };\n\n  InteractionsStore.prototype.clearState = function () {\n    this.set(function () {\n      return initialState;\n    });\n  };\n\n  InteractionsStore.prototype.pinPopover = function () {\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        isPopoverPinned: true\n      });\n    });\n  };\n\n  InteractionsStore.prototype.unpinPopover = function () {\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        isPopoverPinned: false\n      });\n    });\n  };\n\n  InteractionsStore.prototype.togglePopoverPin = function () {\n    this.set(function (state) {\n      return __assign(__assign({}, state), {\n        isPopoverPinned: !state.isPopoverPinned\n      });\n    });\n  };\n\n  InteractionsStore.prototype._getFirstSeriesPoint = function (s) {\n    var seriesIndex = this.series.indexOf(s);\n    var firstSeriesPoint = (this.plot.sx[seriesIndex] || [])[0];\n    return firstSeriesPoint || null;\n  };\n\n  return InteractionsStore;\n}(AsyncStore);\n\nexport default InteractionsStore;","map":null,"metadata":{},"sourceType":"module"}