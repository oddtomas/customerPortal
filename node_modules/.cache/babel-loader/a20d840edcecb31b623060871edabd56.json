{"ast":null,"code":"import { __assign, __rest } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\nimport InternalSelect from '../select/internal';\nimport InternalFormField from '../form-field/internal';\nimport InternalSegmentedControlComponent from './internal-segmented-control';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport styles from './styles.css.js';\nexport default function InternalSegmentedControl(_a) {\n  var selectedId = _a.selectedId,\n      options = _a.options,\n      label = _a.label,\n      ariaLabelledby = _a.ariaLabelledby,\n      _onChange = _a.onChange,\n      _b = _a.__internalRootRef,\n      __internalRootRef = _b === void 0 ? null : _b,\n      props = __rest(_a, [\"selectedId\", \"options\", \"label\", \"ariaLabelledby\", \"onChange\", \"__internalRootRef\"]);\n\n  var baseProps = getBaseProps(props);\n  var selectOptions = (options || []).map(function (option) {\n    var label = option.text || option.iconAlt;\n    return __assign(__assign({}, option), {\n      label: label,\n      value: option.id\n    });\n  });\n  var selectedOptions = selectOptions.filter(function (option) {\n    return option.value === selectedId;\n  });\n  var currentSelectedOption = selectedOptions.length ? selectedOptions[0] : null;\n  var selectProps = {\n    options: selectOptions,\n    selectedOption: currentSelectedOption,\n    triggerVariant: 'option',\n    onChange: function onChange(event) {\n      return fireNonCancelableEvent(_onChange, {\n        selectedId: event.detail.selectedOption.value\n      });\n    }\n  };\n  return React.createElement(\"div\", __assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.root),\n    ref: __internalRootRef\n  }), React.createElement(InternalSegmentedControlComponent, {\n    selectedId: selectedId,\n    options: options,\n    label: label,\n    ariaLabelledby: ariaLabelledby,\n    onChange: _onChange\n  }), React.createElement(\"div\", {\n    className: styles.select\n  }, ariaLabelledby && React.createElement(InternalSelect, __assign({}, selectProps, {\n    ariaLabelledby: ariaLabelledby\n  })), !ariaLabelledby && label && React.createElement(InternalFormField, {\n    label: label,\n    stretch: true\n  }, React.createElement(InternalSelect, __assign({}, selectProps))), !ariaLabelledby && !label && React.createElement(InternalSelect, __assign({}, selectProps))));\n}","map":null,"metadata":{},"sourceType":"module"}