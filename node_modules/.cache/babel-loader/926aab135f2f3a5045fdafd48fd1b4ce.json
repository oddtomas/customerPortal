{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { warnOnce } from '../logging';\nvar allowedJavascriptUrls = ['javascript:void(0)', 'javascript:void(0);', 'javascript:;'];\nexport function checkSafeUrl(component, url) {\n  if (!url) {\n    return;\n  }\n\n  if (allowedJavascriptUrls.indexOf(url.toLowerCase()) !== -1) {\n    return;\n  }\n\n  var parsedUrl;\n\n  try {\n    parsedUrl = new URL(url);\n  } catch (e) {\n    // If the URL cannot be parsed by the browser, it likely does not pose a security risk.\n    return;\n  }\n\n  if (parsedUrl.protocol === 'javascript:') {\n    warnOnce(component, \"A javascript: URL was blocked as a security precaution. The URL was \\\"\".concat(url, \"\\\".\")); // This mirrors the error message that React will use:\n    // https://github.com/facebook/react/blob/a724a3b578dce77d427bef313102a4d0e978d9b4/packages/react-dom/src/shared/sanitizeURL.js#L30\n\n    throw new Error(\"A javascript: URL was blocked as a security precaution.\");\n  }\n\n  return;\n}","map":null,"metadata":{},"sourceType":"module"}