{"ast":null,"code":"import { __assign } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport styles from './styles.css.js';\nimport { InternalButton } from '../../../button/internal';\nimport InternalBox from '../../../box/internal';\nimport InternalSpaceBetween from '../../../space-between/internal';\nimport { Task } from './task';\nimport { getStepInfo } from '../../../annotation-context/index.js';\nexport function TaskList(_a) {\n  var _b;\n\n  var tasks = _a.tasks,\n      onExitTutorial = _a.onExitTutorial,\n      currentGlobalStepIndex = _a.currentGlobalStepIndex,\n      i18nStrings = _a.i18nStrings;\n  var currentTaskIndex = getStepInfo(tasks, currentGlobalStepIndex !== null && currentGlobalStepIndex !== void 0 ? currentGlobalStepIndex : 0).taskIndex;\n\n  var _c = useState((_b = {}, _b[currentTaskIndex] = true, _b)),\n      expandedTasks = _c[0],\n      setExpandedTasks = _c[1];\n\n  var onToggleExpand = useCallback(function (stepIndex) {\n    setExpandedTasks(function (prevTasks) {\n      var _a;\n\n      return __assign(__assign({}, prevTasks), (_a = {}, _a[stepIndex] = !prevTasks[stepIndex], _a));\n    });\n  }, []); // When the user progresses to a different task, all tasks except this one are collapsed.\n\n  useEffect(function () {\n    var _a;\n\n    setExpandedTasks((_a = {}, _a[currentTaskIndex] = true, _a));\n  }, [currentTaskIndex]);\n  return React.createElement(InternalSpaceBetween, {\n    size: \"xxl\"\n  }, React.createElement(\"ol\", {\n    className: styles['tutorial-list']\n  }, tasks.map(function (task, index) {\n    var _a;\n\n    return React.createElement(Task, {\n      task: task,\n      key: index,\n      taskIndex: index,\n      currentTaskIndex: currentTaskIndex,\n      expanded: (_a = expandedTasks[index]) !== null && _a !== void 0 ? _a : false,\n      onToggleExpand: onToggleExpand,\n      i18nStrings: i18nStrings\n    });\n  })), React.createElement(InternalBox, {\n    margin: {\n      top: 'xxxs'\n    }\n  }, React.createElement(InternalButton, {\n    onClick: onExitTutorial,\n    formAction: \"none\",\n    className: styles['dismiss-button']\n  }, i18nStrings.dismissTutorialButtonText)));\n}","map":null,"metadata":{},"sourceType":"module"}