{"ast":null,"code":"import { __assign } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef, useImperativeHandle, useRef } from 'react';\nimport OptionsList from '../internal/components/options-list';\nimport { scrollUntilVisible } from '../internal/utils/scrollable-containers';\nimport { getBaseProps } from '../internal/base-component';\nimport AutosuggestOption from './autosuggest-option';\nimport styles from './styles.css.js';\nexport var getOptionProps = function getOptionProps(index, item, filteredItems, highlightedA11yProps, highlightedOption, hasDropdownStatus) {\n  var nativeAttributes = item === highlightedOption ? highlightedA11yProps : {};\n  var baseOptionProps = getBaseProps(nativeAttributes);\n  var isLastItem = index === filteredItems.length - 1;\n  var isNotEnteredTextItem = filteredItems.length > 1;\n  var padBottom = !hasDropdownStatus && isNotEnteredTextItem && isLastItem;\n  return __assign({\n    nativeAttributes: nativeAttributes,\n    padBottom: padBottom\n  }, baseOptionProps);\n};\n\nvar PlainList = function PlainList(_a, ref) {\n  var handleLoadMore = _a.handleLoadMore,\n      filteredItems = _a.filteredItems,\n      usingMouse = _a.usingMouse,\n      menuProps = _a.menuProps,\n      highlightedOption = _a.highlightedOption,\n      enteredTextLabel = _a.enteredTextLabel,\n      highlightedA11yProps = _a.highlightedA11yProps,\n      hasDropdownStatus = _a.hasDropdownStatus,\n      highlightText = _a.highlightText,\n      listBottom = _a.listBottom,\n      screenReaderContent = _a.screenReaderContent;\n  var listRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return function (index) {\n      var _a;\n\n      var item = (_a = listRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(\"[data-mouse-target=\\\"\".concat(index, \"\\\"]\"));\n\n      if (!usingMouse.current && item) {\n        scrollUntilVisible(item);\n      }\n    };\n  }, [usingMouse, listRef]);\n  return React.createElement(OptionsList, __assign({}, menuProps, {\n    onLoadMore: handleLoadMore,\n    open: true,\n    ref: listRef,\n    // to prevent closing the list when clicking the scrollbar on IE11\n    nativeAttributes: {\n      unselectable: 'on'\n    }\n  }), filteredItems.map(function (item, index) {\n    var optionProps = getOptionProps(index, item, filteredItems, highlightedA11yProps, highlightedOption, hasDropdownStatus);\n    return React.createElement(AutosuggestOption, __assign({\n      highlightText: highlightText,\n      option: item,\n      highlighted: item === highlightedOption,\n      key: index,\n      \"data-mouse-target\": index,\n      enteredTextLabel: enteredTextLabel,\n      screenReaderContent: screenReaderContent\n    }, optionProps));\n  }), listBottom ? React.createElement(\"li\", {\n    role: \"option\",\n    className: styles['list-bottom']\n  }, listBottom) : null);\n};\n\nexport default forwardRef(PlainList);","map":null,"metadata":{},"sourceType":"module"}