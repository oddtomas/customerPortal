{"ast":null,"code":"import { __assign, __rest } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport clsx from 'clsx';\nimport React, { useCallback, memo } from 'react';\nimport InternalFormField from '../../../form-field/internal';\nimport InternalMultiselect from '../../../multiselect/internal';\nimport { getBaseProps } from '../../base-component';\nimport SeriesMarker from '../chart-series-marker';\nimport styles from './styles.css.js';\nexport default memo(ChartFilter);\n\nfunction ChartFilter(_a) {\n  var series = _a.series,\n      i18nStrings = _a.i18nStrings,\n      selectedSeries = _a.selectedSeries,\n      onChange = _a.onChange,\n      restProps = __rest(_a, [\"series\", \"i18nStrings\", \"selectedSeries\", \"onChange\"]);\n\n  var baseProps = getBaseProps(restProps);\n  var className = clsx(baseProps.className, styles.root);\n  var defaultOptions = series.map(function (d, i) {\n    return {\n      label: d.label,\n      value: '' + i,\n      datum: d.datum,\n      __customIcon: React.createElement(\"span\", {\n        className: styles['custom-icon-wrapper']\n      }, React.createElement(SeriesMarker, {\n        color: d.color,\n        type: d.type\n      }))\n    };\n  });\n  var selectedOptions = defaultOptions.filter(function (option) {\n    return (selectedSeries === null || selectedSeries === void 0 ? void 0 : selectedSeries.indexOf(option.datum)) !== -1;\n  });\n  var updateSelection = useCallback(function (_a) {\n    var selectedOptions = _a.detail.selectedOptions;\n    var selectedSeries = defaultOptions.filter(function (option) {\n      return selectedOptions.indexOf(option) !== -1;\n    }).map(function (option) {\n      return option.datum;\n    });\n    onChange(selectedSeries);\n  }, [onChange, defaultOptions]);\n  return React.createElement(InternalFormField, __assign({}, baseProps, {\n    label: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filterLabel,\n    className: className\n  }), React.createElement(InternalMultiselect, {\n    placeholder: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filterPlaceholder,\n    options: defaultOptions,\n    selectedOptions: selectedOptions,\n    onChange: updateSelection,\n    className: styles['chart-filter'],\n    selectedAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filterSelectedAriaLabel,\n    hideTokens: true\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}