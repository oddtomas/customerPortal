{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { KeyCode } from '../../keycode';\nimport { createSingletonState } from '../use-singleton-handler';\nvar useFocusSingleton = createSingletonState({\n  initialState: false,\n  factory: function factory(setIsKeyboard) {\n    var handleMousedown = function handleMousedown() {\n      return setIsKeyboard(false);\n    };\n\n    var handleKeydown = function handleKeydown(event) {\n      // we do not want to highlight focused element\n      // when special keys are pressed\n      var isSpecialKey = [KeyCode.shift, KeyCode.alt, KeyCode.control, KeyCode.meta].indexOf(event.keyCode) > -1;\n\n      if (!isSpecialKey) {\n        setIsKeyboard(true);\n      }\n    };\n\n    document.addEventListener('mousedown', handleMousedown);\n    document.addEventListener('keydown', handleKeydown);\n    return function () {\n      document.removeEventListener('mousedown', handleMousedown);\n      document.removeEventListener('keydown', handleKeydown);\n    };\n  }\n});\nexport default function useFocusVisible() {\n  var visible = useFocusSingleton();\n  return visible ? {\n    'data-awsui-focus-visible': visible\n  } : {};\n}","map":null,"metadata":{},"sourceType":"module"}