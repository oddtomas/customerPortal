{"ast":null,"code":"import { matchesX } from './utils';\n/**\n * Creates a list of all bar (and mixed) groups in the series with their scaled positions.\n */\n\nexport default function makeScaledBarGroups(series, xScale, plotWidth, plotHeight, axis) {\n  if (!xScale.isCategorical()) {\n    return [];\n  }\n\n  return xScale.domain.map(function (x) {\n    var scaledX = xScale.d3Scale(x);\n    var isValid = typeof scaledX !== 'undefined' && isFinite(scaledX);\n    return {\n      x: x,\n      isValid: isValid,\n      hasData: series.some(function (_a) {\n        var series = _a.series;\n\n        if (series.type === 'threshold') {\n          // If there is a threshold series, every valid group will have a data point\n          return true;\n        }\n\n        return series.data.some(function (datum) {\n          return matchesX(datum.x, x);\n        });\n      }),\n      position: axis === 'x' ? {\n        x: 0,\n        y: isValid ? scaledX || 0 : 0,\n        width: plotWidth,\n        height: xScale.d3Scale.bandwidth()\n      } : {\n        x: isValid ? scaledX || 0 : 0,\n        y: 0,\n        width: xScale.d3Scale.bandwidth(),\n        height: plotHeight\n      }\n    };\n  });\n}","map":null,"metadata":{},"sourceType":"module"}